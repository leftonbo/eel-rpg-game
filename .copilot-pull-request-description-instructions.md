# GitHub Copilot プルリクエスト説明指示書

このファイルは GitHub Copilot がプルリクエストの説明を生成する際のガイドラインです。

## プルリクエスト説明形式

すべてのプルリクエスト説明は以下の形式に従ってください：

```markdown
## 概要

[変更内容の簡潔な説明]

## 変更内容

- [具体的な変更点1]
- [具体的な変更点2]
- [具体的な変更点3]

## 影響範囲

[この変更が他のシステムや機能に与える影響について記述]

## テスト項目

- [ ] [テスト項目1]
- [ ] [テスト項目2]
- [ ] [テスト項目3]
- [ ] `npm run typecheck` で型エラーなし
- [ ] `npm run test` でテスト通過
- [ ] `npm run build` でビルド成功

## 関連Issue

[関連するIssueがあれば記載]
```

## 必須要件

1. **日本語で記述する**
   - タイトルと説明文は日本語を使用
   - 技術用語は適切に使用

2. **具体的で明確な説明**
   - 何を変更したかを具体的に記述
   - なぜその変更が必要だったかを説明

3. **影響範囲の明記**
   - 他のシステムへの影響を記載
   - 破壊的変更がある場合は特に強調

## プロジェクト固有のガイドライン

### 新機能追加の場合

```markdown
## 概要

[機能名]を追加しました。

## 変更内容

- [実装した機能の詳細]
- [追加したファイル・クラス]
- [修正した既存のファイル]

## 影響範囲

- [既存機能への影響]
- [データベース・セーブデータへの影響]
- [UI・UXの変更点]

## テスト項目

- [ ] [機能の基本動作確認]
- [ ] [エラーケースの確認]
- [ ] [既存機能との連携確認]
- [ ] 型チェック・テスト・ビルドの通過確認
```

### ボス追加の場合

```markdown
## 概要

新ボス「[ボス名]」を追加しました。

## 変更内容

- `src/game/data/bosses/[boss-id].ts` - ボスデータ定義
- `src/game/data/index.ts` - ボス登録処理追加
- [その他の変更ファイル]

## ボス仕様

- **HP**: [HP値]
- **攻撃力**: [攻撃力]
- **特殊能力**: [特殊能力の説明]
- **解禁条件**: エクスプローラーレベル [レベル] 以上
- **記念品**: [記念品の説明]

## 影響範囲

- ボス選択画面に新ボスが表示
- 戦闘システムの動作確認
- [状態異常の追加がある場合は記載]

## テスト項目

- [ ] ボス選択画面での表示確認
- [ ] 戦闘の基本動作確認
- [ ] 特殊能力の動作確認
- [ ] 記念品システムの動作確認
- [ ] 型チェック・テスト・ビルドの通過確認
```

### バグ修正の場合

```markdown
## 概要

[バグの内容]を修正しました。

## 問題

[発生していた問題の詳細説明]

## 原因

[バグの原因分析]

## 修正内容

- [修正した具体的な内容]
- [変更したファイル・関数]

## 影響範囲

[修正による他機能への影響]

## テスト項目

- [ ] バグが修正されていることの確認
- [ ] 修正による副作用がないことの確認
- [ ] [関連機能の動作確認]
- [ ] 型チェック・テスト・ビルドの通過確認
```

### リファクタリングの場合

```markdown
## 概要

[対象システム・コンポーネント]のリファクタリングを実施しました。

## 変更内容

- [リファクタリングした内容]
- [構造変更の詳細]
- [削除・統合したコード]

## 改善点

- [パフォーマンスの改善]
- [可読性の向上]
- [保守性の向上]

## 影響範囲

- 外部インターフェースに変更なし
- [内部実装の変更による影響]

## テスト項目

- [ ] 既存機能が正常に動作することの確認
- [ ] [リファクタリング対象機能の動作確認]
- [ ] 型チェック・テスト・ビルドの通過確認
```

## 自動生成時の考慮点

GitHub Copilot がプルリクエスト説明を生成する際は：

1. **変更されたファイルから内容を推測**
   - コミット履歴を分析
   - 変更されたファイルの種類と内容を考慮

2. **プロジェクトの文脈を理解**
   - RPGゲームプロジェクトであることを考慮
   - ゲーム固有の用語（ボス、アビリティ、状態異常など）を適切に使用

3. **品質チェック項目を含める**
   - TypeScript型チェック
   - Vitestテスト実行
   - ビルド確認

4. **ゲーム要素を考慮した説明**
   - ボス追加時はHP、攻撃力、特殊能力を記載
   - UI変更時は画面名を具体的に記載
   - システム変更時はゲームバランスへの影響を考慮

## 注意事項

- **破壊的変更**: セーブデータ構造の変更など、既存データに影響する場合は必ず明記
- **パフォーマンス**: 重い処理やメモリ使用量に影響する変更は記載
- **ブラウザ対応**: 特定ブラウザでの動作確認が必要な場合は記載
- **アクセシビリティ**: UI変更でアクセシビリティに影響する場合は記載